{% extends "clients/base.html" %}

{% block title %}Eliminar {{ client.name }} - PROVESI SAS{% endblock %}
{% block header_title %}Eliminar Cliente{% endblock %}

{% block back_link %}
<a href="{% url 'client-list' %}" class="back-link">â† Volver a la lista</a>
{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div class="warning-card">
        <h3>âš ï¸ Confirmar EliminaciÃ³n</h3>
        <p>Â¿EstÃ¡ seguro que desea eliminar al cliente <strong>{{ client.name }}</strong>?</p>
        
        {% if orders_count > 0 %}
        <p style="margin-top: 1rem;">
            <strong>âš ï¸ Advertencia:</strong> Este cliente tiene <strong>{{ orders_count }}</strong> orden(es) asociada(s). 
            Las Ã³rdenes no serÃ¡n eliminadas, pero quedarÃ¡n sin cliente asignado.
        </p>
        {% endif %}
    </div>

    <div class="info-card">
        <h3>Datos del cliente</h3>
        <p><strong>Nombre:</strong> {{ client.name }}</p>
        <p><strong>Email:</strong> {{ client.email }}</p>
        <p><strong>TelÃ©fono:</strong> {{ client.phone|default:"No registrado" }}</p>
        <p><strong>DirecciÃ³n:</strong> {{ client.address|default:"No registrada" }}</p>
    </div>

    <form method="post" action="{% url 'client-delete' client.id %}">
        {% csrf_token %}
        <div class="btn-group">
            <button type="submit" class="btn btn-danger">ğŸ—‘ï¸ SÃ­, Eliminar Cliente</button>
            <a href="{% url 'client-detail' client.id %}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}