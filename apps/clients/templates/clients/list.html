{% extends "clients/base.html" %}

{% block title %}Lista de Clientes - PROVESI SAS{% endblock %}
{% block header_title %}GestiÃ³n de Clientes{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
    <p style="color: #666; margin: 0;">Total: <strong>{{ clients|length }}</strong> clientes</p>
    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
        <a href="{% url 'order-list' %}" class="btn btn-secondary">ğŸ“¦ Ã“rdenes</a>
        <a href="{% url 'client-create' %}" class="btn btn-success">+ Nuevo Cliente</a>
    </div>
</div>

{% if clients %}
    <table>
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Email</th>
                <th>TelÃ©fono</th>
                <th>Ã“rdenes</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for client in clients %}
            <tr>
                <td data-label="Nombre">
                    <a href="{% url 'client-detail' client.id %}" style="color: #667eea; text-decoration: none; font-weight: 500;">
                        {{ client.name }}
                    </a>
                </td>
                <td data-label="Email">{{ client.email }}</td>
                <td data-label="TelÃ©fono">{{ client.phone|default:"-" }}</td>
                <td data-label="Ã“rdenes">
                    <span class="status-badge badge-info">{{ client.orders_count }} Ã³rdenes</span>
                </td>
                <td data-label="Acciones" class="actions">
                    <a href="{% url 'client-detail' client.id %}" class="btn btn-secondary">Ver</a>
                    <a href="{% url 'client-edit' client.id %}" class="btn btn-primary">Editar</a>
                    <a href="{% url 'client-delete' client.id %}" class="btn btn-danger">Eliminar</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="empty-state">
        <p>No hay clientes registrados.</p>
        <a href="{% url 'client-create' %}" class="btn btn-success" style="margin-top: 1rem;">Crear primer cliente</a>
    </div>
{% endif %}
{% endblock %}